<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEGETARIAN 레시피</title>
    <link rel="stylesheet" href="/css/vegetarian.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        /* 기본 스타일 */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #66bb6a;
            /* 연한 초록색 */
            padding: 20px 0;
            text-align: center;
        }

        header .logo img {
            width: 150px;
        }

        #top-nav {
            text-align: center;
            margin-top: 10px;
        }

        #top-nav a {
            margin: 0 10px;
            color: #fff;
            text-decoration: none;
        }

        /* 페이지 탭 스타일 */
        .page-tabs {
            display: flex;
            justify-content: center;
            background-color: #333;
            padding: 10px 0;
        }

        .page-tabs .tab-link {
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            text-align: center;
            font-weight: bold;
        }

        .page-tabs .tab-link.active {
            background-color: #66bb6a;
            /* 연한 초록색 */
        }

        /* 컨테이너 및 정렬 버튼 스타일 */
        main.container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
        }

        .sort-options {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .sort-options button {
            padding: 10px 20px;
            margin: 0 10px;
            border: 2px solid #66bb6a;
            /* 연한 초록색 */
            background-color: #fff;
            color: #66bb6a;
            /* 연한 초록색 */
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .sort-options button.active {
            background-color: #66bb6a;
            /* 연한 초록색 */
            color: white;
            border-color: #66bb6a;
        }

        .sort-options button:hover {
            background-color: #66bb6a;
            /* 연한 초록색 */
            color: white;
        }

        .search-filter {
            text-align: center;
            margin-bottom: 20px;
        }

        .search-filter input {
            padding: 10px;
            width: 70%;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .search-filter button {
            padding: 10px 20px;
            margin-left: 10px;
            border: none;
            background-color: #66bb6a;
            /* 연한 초록색 */
            color: white;
            font-size: 1em;
            cursor: pointer;
            border-radius: 5px;
        }

        .recipe-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .recipe-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .recipe-card:hover {
            transform: translateY(-10px);
        }

        .recipe-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .recipe-details {
            padding: 15px;
        }

        .recipe-details h3 {
            margin: 10px 0;
            font-size: 1.2em;
            color: #000;
            /* 검정색 텍스트 */
        }

        .favorite-icon {
            background-color: transparent;
            border: none;
            color: #66bb6a;
            /* 연한 초록색 */
            font-size: 1.5em;
            cursor: pointer;
            transition: color 0.3s;
        }

        .favorite-icon.active {
            color: #218838;
            /* 다크 초록색 */
        }

        .favorite-icon:hover {
            color: #218838;
            /* 다크 초록색 */
        }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 15px;
            margin-top: 50px;
        }

        footer .social-links a {
            margin: 0 10px;
            color: white;
        }

        footer .social-links a:hover {
            color: #66bb6a;
            /* 연한 초록색 */
        }
    </style>
</head>

<body>
    <header>
        <div class="header-content">
            <a href="main.html" class="logo">
                <img src="/assets/icons/로고.jpg" alt="Logo">
            </a>
            <nav id="top-nav">
                <a href="/pages/favorite.html" title="즐겨찾기"><img src="/assets/icons/즐겨찾기.png" alt="즐겨찾기"></a>
                <a href="/pages/profile.html" title="프로필"><img src="/assets/icons/회원가입.png" alt="프로필"></a>
                <a href="/pages/login.html" title="로그인"><img src="/assets/icons/로그인.png" alt="로그인"></a>
                <a href="/pages/community.html" title="커뮤니티"><img src="/assets/icons/커뮤니티.png" alt="커뮤니티"></a>
            </nav>
        </div>
    </header>

    <!-- 페이지 상단 탭 추가 -->
    <div class="page-tabs">
        <a href="best.html" class="tab-link">BEST</a>
        <a href="new.html" class="tab-link">NEW</a>
        <a href="/recipes/vegetarian.html" class="tab-link active">VEGETARIAN</a>
        <a href="/recipes/meat.html" class="tab-link">MEAT</a>
    </div>

    <main class="container">
        <h1>VEGETARIAN 레시피</h1>

        <!-- 정렬 옵션 버튼 -->
        <div class="sort-options">
            <button id="popularitySort" class="active">인기순</button>
            <button id="latestSort">최신순</button>
        </div>

        <div class="search-filter">
            <input type="text" id="search" placeholder="레시피 검색...">
            <button id="filter">검색</button>
        </div>

        <div class="recipe-container" id="recipeContainer">
            <!-- 레시피 카드들이 여기에 동적으로 표시됩니다. -->
        </div>
    </main>

    <!-- 하단 소셜 미디어 링크 추가 -->
    <footer>
        <div class="social-links">
            <a href="https://www.instagram.com" target="_blank">
                <img src="/assets/icons/instagram.png" alt="Instagram">
            </a>
            <a href="https://www.youtube.com" target="_blank">
                <img src="/assets/icons/youtube.png" alt="YouTube">
            </a>
            <a href="https://www.blog.com" target="_blank">
                <img src="/assets/icons/blog.png" alt="Blog">
            </a>
        </div>
    </footer>

    <script>
        // 레시피 데이터 정의
        const recipes = [
            { id: 1, title: '채식 비빔밥', description: '신선한 채소와 향긋한 고추장 소스를 곁들인 채식 비빔밥입니다.', popularity: 100, date: '2024-11-01', imgSrc: '/assets/images/채식비빔밥.jpg', link: 'vegetarian-bibimbap.html' },
            { id: 2, title: '퀴노아 샐러드', description: '단백질이 풍부한 퀴노아와 다양한 채소가 어우러진 건강한 샐러드입니다.', popularity: 80, date: '2024-10-25', imgSrc: '/assets/images/퀴노아샐러드.jpg', link: 'quinoa-salad.html' },
            { id: 3, title: '채소 스프', description: '신선한 채소와 허브가 가득 담긴 따뜻한 스프입니다.', popularity: 120, date: '2024-10-10', imgSrc: '/assets/images/채소스프.jpg', link: 'vegetarian-soup.html' }
        ];

        // 레시피 표시 함수
        function displayRecipes(sortedRecipes) {
            const recipeContainer = document.getElementById('recipeContainer');
            recipeContainer.innerHTML = ''; // 기존 카드 초기화

            sortedRecipes.forEach(recipe => {
                const recipeCard = `
                    <div class="recipe-card">
                        <a href="${recipe.link}">
                            <img src="${recipe.imgSrc}" alt="${recipe.title}">
                        </a>
                        <div class="recipe-details">
                            <h3>${recipe.title}</h3>
                            <p>${recipe.description}</p>
                            <button class="favorite-icon" data-recipe="${recipe.id}">
                                <i class="far fa-heart"></i> <!-- 비어있는 하트 아이콘 -->
                            </button>
                        </div>
                    </div>
                `;
                recipeContainer.innerHTML += recipeCard;
            });
        }

        // 하트 클릭 시 토글 효과
        document.addEventListener('click', function (event) {
            if (event.target.closest('.favorite-icon')) {
                const button = event.target.closest('.favorite-icon');
                const icon = button.querySelector('i'); // 하트 아이콘

                // 클래스를 바꿔서 하트를 채우거나 비우기
                if (icon.classList.contains('far')) {
                    icon.classList.remove('far'); // 비어있는 하트
                    icon.classList.add('fas'); // 채워진 하트
                } else {
                    icon.classList.remove('fas'); // 채워진 하트
                    icon.classList.add('far'); // 비어있는 하트
                }
            }
        });

        // 검색 필터링 기능
        document.getElementById('filter').addEventListener('click', () => {
            const searchText = document.getElementById('search').value.toLowerCase();
            const filteredRecipes = recipes.filter(recipe => recipe.title.toLowerCase().includes(searchText) || recipe.description.toLowerCase().includes(searchText));
            displayRecipes(filteredRecipes);
        });

        // 정렬 기능 구현
        document.getElementById('popularitySort').addEventListener('click', () => {
            setActiveButton('popularitySort');
            const sortedRecipes = [...recipes].sort((a, b) => b.popularity - a.popularity);
            displayRecipes(sortedRecipes);
        });

        document.getElementById('latestSort').addEventListener('click', () => {
            setActiveButton('latestSort');
            const sortedRecipes = [...recipes].sort((a, b) => new Date(b.date) - new Date(a.date));
            displayRecipes(sortedRecipes);
        });

        function setActiveButton(activeId) {
            const buttons = document.querySelectorAll('.sort-options button');
            buttons.forEach(button => {
                if (button.id === activeId) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        }

        // 페이지 로딩 시 기본적으로 인기순으로 정렬된 레시피 표시
        displayRecipes([...recipes].sort((a, b) => b.popularity - a.popularity));
    </script>
</body>

</html>